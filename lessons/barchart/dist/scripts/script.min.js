import*as d3 from"https://cdn.jsdelivr.net/npm/d3@7/+esm";let canvas=d3.select(".canva"),svg=canvas.append("svg").attr("height",600).attr("width",600),margin={top:20,right:20,bottom:78,left:40},graphWidht=600-margin.left-margin.right,graphHeight=600-margin.top-margin.bottom,graph=svg.append("g").attr("width",graphWidht).attr("height",graphHeight).attr("transform",`translate(${margin.left}, ${margin.top})`),rect=graph.selectAll("rect"),xAxisGroup=graph.append("g").attr("transform",`translate(0, ${graphHeight})`),yAxisGroup=graph.append("g");d3.json("test.json").then(t=>{let r=d3.scaleLinear().domain([0,d3.max(t,t=>t.height)]).range([graphHeight,0]),e=d3.scaleBand().domain(t.map(t=>t.fill)).range([0,500]).paddingInner(.1).paddingOuter(.4);console.log(e.bandwidth());var a=d3.axisBottom(e),n=d3.axisLeft(r);xAxisGroup.call(a),yAxisGroup.call(n),rect.data(t).enter().append("rect").attr("width",e.bandwidth).transition().attr("y",t=>r(t.height)).delay(function(t,a){return 100*a}).ease(d3.easeBounceOut).attr("height",(t,a)=>graphHeight-r(t.height)).attr("fill",t=>t.fill).attr("x",(t,a)=>e(t.fill)).attr("y",t=>r(t.height)).on("mouseover",function(t){d3.select(t.currentTarget).transition().duration(100).style("opacity",.5)}).on("mouseout",function(t){d3.select(t.currentTarget).transition().duration(100).style("opacity",1)})});